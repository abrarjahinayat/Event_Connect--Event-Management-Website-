// Add temporarily to admin.route.js for initial setup
// TEMPORARY - Remove after creating admin
router.post("/setup-admin-clean", async (req, res) => {
  try {
    const adminModel = require("../../../model/admin.model");
    
    // Delete all admins (clean slate)
    await adminModel.deleteMany({});
    
    // Create new admin - let model handle hashing
    const admin = new adminModel({
      name: "Abrar Jahin Ayat",
      email: "abrarayat321@gmail.com",
      password: "admin123", // Plain text - model will hash
      role: "super_admin",
      isActive: true
    });
    
    await admin.save();
    
    // Verify
    const check = await adminModel.findOne({ email: "abrarayat321@gmail.com" }).select('+password');
    
    return res.json({
      success: true,
      message: "Admin created",
      hasPassword: !!check.password,
      passwordLength: check.password.length // Should be 60 chars (bcrypt hash)
    });
    
  } catch (error) {
    return res.status(500).json({
      success: false,
      message: error.message
    });
  }
});